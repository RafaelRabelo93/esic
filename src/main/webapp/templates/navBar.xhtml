<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:outputStylesheet name="header.css" library="css" />
</h:head>

<h:body>

	<ui:composition>
	
	<h:form id="formNavbar" class="form" rendered="#{usuario.usuario.perfil ne '0'}">
	
		<div id="navBar" class="divMenu">
			
		<!-- Solicitação Cidadão -->
			<h:panelGroup styleClass="dropdown" rendered="#{usuario.usuario.perfil eq '1' or usuario.usuario.perfil eq '3' or (usuario.usuario.perfil eq '4' and usuario.perfilAlterarCidadaoResponsavel eq false)}">
				<button class="dropbtn"> 
					<h:commandLink action="#{solicitacao.verificaCidadaoConsulta}">
						<i class="fa fa-stack-exchange"/>
						<h:outputText value="Solicitações" style="margin-left: 7px"/>
					</h:commandLink>
				</button>
				<div class="dropdown-content">
					<h:commandLink value="Nova Solicitação" action="#{solicitacao.verificaCidadaoSolicitacao}"/>
					<h:commandLink value="Consultar Solicitações" action="#{solicitacao.verificaCidadaoConsulta}"/>
				</div>
			</h:panelGroup>
			
		<!-- Solicitação Responsavel -->
			<h:panelGroup styleClass="dropdown" rendered="#{(usuario.usuario.perfil eq '2' or (usuario.usuario.perfil eq '4' and usuario.perfilAlterarCidadaoResponsavel eq true)) or usuario.usuario.perfil eq '6'}">
				<button class="dropbtn"> 
					<h:commandLink action="#{solicitacao.consultarSolicitacao}">
						<i class="fa fa-stack-exchange" />
						<h:outputText value="Solicitações" style="margin-left: 7px"/>
					</h:commandLink>
				</button>
			</h:panelGroup>
			
			<h:outputText value="|" style="color:#3c6da8;" rendered="#{(usuario.usuario.perfil eq '2' or (usuario.usuario.perfil eq '4' and usuario.perfilAlterarCidadaoResponsavel eq true)) or usuario.usuario.perfil eq '6'}" />
			
		<!-- Responsavel -->
			<h:panelGroup styleClass="dropdown" rendered="#{(usuario.usuario.perfil eq '2' or (usuario.usuario.perfil eq '4' and usuario.perfilAlterarCidadaoResponsavel eq true)) or usuario.usuario.perfil eq '6'}">
				<button class="dropbtn"> 
					<h:commandLink action="Consulta/consulta_responsavel">
						<i class="fa fa-users" />
						<h:outputText value="Responsável" style="margin:0 7px"/>
						<i class="fa fa-caret-down"/>
					</h:commandLink>
				</button>
				<div class="dropdown-content">
					<h:commandLink value="Gerir Responsável" action="/Consulta/consulta_responsavel"/>
					<h:commandLink value="Cadastrar Responsável" action="#{responsavel.redirectCadastroUsuario()}" rendered="#{((usuario.usuario.perfil eq '2' or usuario.usuario.perfil eq '4') and usuario.responsavel.nivel eq '3') or usuario.usuario.perfil eq '5' or usuario.usuario.perfil eq '6' }"/>
				</div>
			</h:panelGroup>
			
			<h:outputText value="|" style="color:#3c6da8;" rendered="#{(usuario.usuario.perfil eq '2' or (usuario.usuario.perfil eq '4' and usuario.perfilAlterarCidadaoResponsavel eq true)) or usuario.usuario.perfil eq '6'}" />
			
		<!-- Entidade -->
		<h:panelGroup styleClass="dropdown" rendered="#{(usuario.usuario.perfil eq '2' or (usuario.usuario.perfil eq '4' and usuario.perfilAlterarCidadaoResponsavel eq true)) or usuario.usuario.perfil eq '6'}">
			<button class="dropbtn"> 
				<h:commandLink action="#{entidades.consultarEntidades}">
						<i class="fa fa-building" />
						<h:outputText value="Entidade" style="margin:0 7px"/>
						<i class="fa fa-caret-down"/>
				</h:commandLink>
			</button>
			<div class="dropdown-content">
				<h:commandLink value="Gerir Entidades" action="#{entidades.consultarEntidades}"/>
				<h:commandLink value="Cadastrar Entidades" action="#{entidades.redirecionarCadastroEntidade()}"/>
				<h:commandLink value="Gerir Ações" action="#{acoes.redirecionarConsultaAcoes()}"/>
				<h:commandLink value="Cadastrar Ações" action="#{acoes.redirecionarCadastroAcoes()}"/>
			</div>
		</h:panelGroup>
		
		<h:outputText value="|" style="color:#3c6da8;" rendered="#{usuario.usuario.perfil eq '6'}" />
			
		</div>
			
	</h:form>
		
	</ui:composition>

</h:body>
</html>