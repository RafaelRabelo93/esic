<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:body>

	<ui:composition template="/templates/template.xhtml">

		<ui:define name="content">

			<h:form id="edit_usuario" styleClass="cad_form">

				<div class="ficha">

					<!--		Mensagens de Erro		-->
					<p:messages id="messages" showDetail="true" autoUpdate="true"
						closable="true" />

<!-- 					<p:steps activeIndex="0" styleClass="custom" readonly="true"> -->
<!-- 						<p:menuitem value="Dados do Usuário" url="#" /> -->
<!-- 						<p:menuitem value="Dados Pessoais" url="#" /> -->
<!-- 					</p:steps> -->

					<p:panelGrid columns="1" style="margin-bottom:1vw">

						<f:facet name="header">
							<br />
							<h:outputText value="Dados do Usuário" style="color:#1a568c; font-size:25px; padding: 0 7vw;" />
							<br /><br />
						</f:facet>

						<p:outputLabel value="Nome completo: " for="nome" />
						<p:inplace editor="true" emptyLabel=" ... ">							
							<p:inputText id="nome" value="#{usuario.usuario.nome}" size="50" />
						</p:inplace>

						<p:outputLabel value="Nome de usuário: " for="nick" />
						<h:outputText id="nick" required="true" value="#{usuario.usuario.nick}" size="50" />

						<p:outputLabel value="Email:" for="email" />
						<p:inplace editor="true" emptyLabel=" ... ">
							<p:inputText id="email" value="#{usuario.email}" size="50" />
						</p:inplace>

						<p:outputLabel value="Alterar senha:" for="senha1" />
						<p:password id="senha1" match="senha2" placeholder="Digite nova senha" value="#{usuario.usuario.senha}" />

						<p:outputLabel value="Confirme nova senha:" for="senha2" />
						<p:password id="senha2" placeholder="Repita nova senha" required="true" />
						
						<p:panelGrid style="margin-bottom:1vw" rendered="#{usuario.usuario.perfil eq '3'}">

						<f:facet name="header">
							<p:row>
								<p:column colspan="2" />
							</p:row>
							<p:row>
								<p:column colspan="2">
									<h:outputText value="Dados Pessoais" style="color:#1a568c; font-size:25px; padding: 0 7vw;" />
								</p:column>
							</p:row>
							<p:row>
								<p:column colspan="2" />
							</p:row>
						</f:facet>

						<p:row>
							<p:column>
								<p:outputLabel value="Data de Nascimento: " for="datanasc" />
							</p:column>
							<p:column>
								<p:outputLabel value="Tipo Pessoa: " for="tipo" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:calendar styleClass="date" id="datanasc"
									value="#{usuario.cidadao.datanasc}" showOn="button"
									locale="pt_BR" effect="slideDown" navigator="true"
									pattern="dd/MM/yyyy" mask="true" />
							</p:inplace>
							</p:column>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:selectOneMenu id="tipo" value="#{usuario.cidadao.tipo}"
									style="width:125px">
									<f:selectItem itemLabel="Física" itemValue="true" />
									<f:selectItem itemLabel="Jurídica" itemValue="false" />
								</p:selectOneMenu>
							</p:inplace>
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<p:outputLabel value="Gênero: " for="sexo" />
							</p:column>
							<p:column>
								<p:outputLabel value="Telefone: " for="telefone" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:selectOneRadio id="sexo" value="#{usuario.cidadao.sexo}"
									layout="pageDirection">
									<f:selectItem itemLabel="Masculino" itemValue="M" />
									<f:selectItem itemLabel="Feminino" itemValue="F" />
								</p:selectOneRadio>
							</p:inplace>
							</p:column>

							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputMask id="telefone" value="#{usuario.cidadao.tel}"
									mask="(99)99999-9999" />
							</p:inplace>
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<p:outputLabel value="RG: " for="rg" />
							</p:column>
							<p:column>
								<p:outputLabel value="CPF/CNPJ: " for="cpf" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputMask id="rg" value="#{usuario.cidadao.rg}"
									mask="?9999999999999999" />
							</p:inplace>
							</p:column>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputMask id="cpf" value="#{usuario.cidadao.cpf}"
									mask="999.999.999-99" />
							</p:inplace>
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<p:outputLabel value="Orgao Expedidor: " for="orgao" />
							</p:column>
							<p:column>
								<p:outputLabel value="Escolaridade: " for="escolaridade" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputText id="orgao" value="#{usuario.cidadao.orgaexp}"
									style="width:125px" />
							</p:inplace>
							</p:column>

							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:selectOneMenu id="escolaridade"
									value="#{usuario.cidadao.escolaridade}" style="width:125px">
									<f:selectItem itemLabel="Selecionar" itemValue="" />
									<f:selectItem itemLabel="Analfabeto" itemValue="1" />
									<f:selectItem itemLabel="Semi-Analfabeto" itemValue="2" />
									<f:selectItem itemLabel="Fundamental" itemValue="3" />
									<f:selectItem itemLabel="Medio" itemValue="4" />
									<f:selectItem itemLabel="Superior" itemValue="5" />
								</p:selectOneMenu>
							</p:inplace>
							</p:column>
						</p:row>

						<p:row>
							<p:column></p:column>
							<p:column></p:column>
						</p:row>

						<p:row>
							<p:column>
								<h:outputText value="Endereço:"
									style="color:#1a568c; font-size:20px;" />
							</p:column>
							<p:column></p:column>
						</p:row>

						<p:row>
							<p:column>
								<p:outputLabel value="CEP: " for="cep" />
							</p:column>
							<p:column></p:column>
						</p:row>

						<p:row>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputText id="cep" value="#{usuario.cidadao.cep}"
									maxlength="10" />
							</p:inplace>
							</p:column>
							<p:column></p:column>
						</p:row>

						<p:row>
							<p:column>
								<p:outputLabel value="Estado: " for="estado" />
							</p:column>
							<p:column>
								<p:outputLabel value="Cidade: " for="cidade" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:selectOneMenu id="estado" value="#{usuario.cidadao.estado}"
									style="width:125px">
									<f:selectItem itemLabel="Selecionar" itemValue="" />
									<f:selectItem itemLabel="Acre" itemValue="AC" />
									<f:selectItem itemLabel="Alagoas" itemValue="AL" />
									<f:selectItem itemLabel="Amapá" itemValue="AP" />
									<f:selectItem itemLabel="Amazonas" itemValue="AM" />
									<f:selectItem itemLabel="Bahia" itemValue="BA" />
									<f:selectItem itemLabel="Ceará" itemValue="CE" />
									<f:selectItem itemLabel="Distrito Federal" itemValue="DF" />
									<f:selectItem itemLabel="Espirito Santo" itemValue="ES" />
									<f:selectItem itemLabel="Goiás" itemValue="GO" />
									<f:selectItem itemLabel="Maranhão" itemValue="MA" />
									<f:selectItem itemLabel="Mato Grosso" itemValue="MT" />
									<f:selectItem itemLabel="Mato Grosso do Sul" itemValue="MS" />
									<f:selectItem itemLabel="Minas Gerais" itemValue="MG" />
									<f:selectItem itemLabel="Pará" itemValue="PA" />
									<f:selectItem itemLabel="Paraíba" itemValue="PB" />
									<f:selectItem itemLabel="Paraná" itemValue="PR" />
									<f:selectItem itemLabel="Piauí" itemValue="PI" />
									<f:selectItem itemLabel="Rio de Janeiro" itemValue="RJ" />
									<f:selectItem itemLabel="Rio Grande do Norte" itemValue="RN" />
									<f:selectItem itemLabel="Rio Grande do Sul" itemValue="RS" />
									<f:selectItem itemLabel="Rondônia" itemValue="RO" />
									<f:selectItem itemLabel="Roraima" itemValue="RR" />
									<f:selectItem itemLabel="Santa Catarina" itemValue="SC" />
									<f:selectItem itemLabel="São Paulo" itemValue="SP" />
									<f:selectItem itemLabel="Sergipe" itemValue="SE" />
									<f:selectItem itemLabel="Tocantins" itemValue="TO" />
								</p:selectOneMenu>
							</p:inplace>
							</p:column>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputText id="cidade" value="#{usuario.cidadao.cidade}" />
							</p:inplace>
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<p:outputLabel value="Logradouro: " for="logradouro" />
							</p:column>
							<p:column>
								<p:outputLabel value="Numero: " for="numero" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputText id="logradouro" value="#{usuario.cidadao.endereco}" size="30" />
							</p:inplace>
							</p:column>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputText id="numero"  size="10" />
							</p:inplace>
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<p:outputLabel value="Bairro: " for="bairro" />
							</p:column>
							<p:column>
								<p:outputLabel value="Complemento: " for="complemento" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputText id="bairro"  />
							</p:inplace>
							</p:column>
							<p:column>
							<p:inplace editor="true" emptyLabel=" ... ">
								<p:inputText id="complemento"  />
							</p:inplace>
							</p:column>
						</p:row>
						
					</p:panelGrid>
						<p:row> <p:column colspan="2"> <h:outputText value="Clique nos campos para editar." style="font-size:14px; color:gray"/> </p:column> </p:row>
					</p:panelGrid>
					
					<p:commandLink action="#{usuario.edit}" class="botaoLink">

						<h:outputText value="Atualizar" />
						<i class="fa fa-arrow-right"
							style="color: white; padding-left: 3px" />


						 <f:setPropertyActionListener value="#{usuario.email}" target="#{cidadao.email}" /> 
						 <f:setPropertyActionListener value="#{usuario.usuario}" target="#{cidadao.usuario}" /> 
						 
						 <f:setPropertyActionListener value="#{usuario.email}" target="#{responsavel.email}" /> 
						 <f:setPropertyActionListener value="#{usuario.usuario}" target="#{responsavel.usuario}" /> 


					</p:commandLink>
					
					<p:commandLink action="#{usuario.delete}" class="botaoLink">

						<h:outputText value="Excluir" />
						<i class="fa fa-arrow-right"
							style="color: white; padding-left: 3px" />
					</p:commandLink>

				</div>

			</h:form>

		</ui:define>

	</ui:composition>

</h:body>
</html>

